Modify order
############

XML-schema
==========

XSD-schema:

-  ``www/xsd/ModifyOrderRequest.xsd``
-  ``www/xsd/ModifyOrderResponse.xsd``

After the order was created, you can modify one or more vehicles in
created order. When you modify an order, indicate order id and list of
items (with item id), that you want to modify. You can modify
information about the driver, pick up or drop off parameters, extras,
information for voucher. All identificators (order id, item id) can be
found in OrderInfoResponse

The modification is available if the order item is editable. This is
indicated by ``Editable`` parameter for vehicle in OrderInfoResponse

Request
-------

XML-schema:

::


    <?xml version="1.0" encoding="utf-8"?>
    <ModifyOrderRequest>
      [<ContactInfo> - contact information
        <Name>..</Name> - name
        <Email>..</Email> - email
        <Phone>..</Phone> - phone
        <Comment>..</Comment> - комментарий
      </ContactInfo>]
      <OrderId>..</OrderId> - order id
      [<AccountComment>..</AccountComment> - Comment for the account
      [<PayForm>cash|cashless</PayForm>] - new order pay form
      <Items> - order item
        <VehicleItem> - vehicle
            <PickUp>
              <PickUpStation>..</PickUpStation> - id of the pick up station
              <PickUpFlightNum>..</PickUpFlightNum> - flight number(if this option is supported)
              <PickUpHotel [hotelId=".."]>
                <HotelInfo [hotelName=".."]
                   [hotelAddress=".."]/>
              </PickUpHotel> 
            </PickUp>
            <DropOff>
              <DropOffStation>..</DropOffStation> - id of te drop off station
            </DropOff>
            <Driver>
              <Title>Mr|Mrs|Ms|Chld</Title> - Mr, Mrs, ..,
              <FirstName>..</FirstName> - name (latin)
              <LastName>..</LastName> - second name (latin)
              <BirthDate>..</BirthDate> - date of birth (YY-mm-dd)
            </Driver>
            <Extras>    
               <Extra>..</Extra> - id of the extra
            </Extras>
            <VoucherInfo>..</VoucherInfo> - information for the voucher
        </VehicleItem>
      </Items>
    </ModifyOrderRequest>

ModifyOrderRequest item
-----------------------

Parent item.

- Атрибуты: no.

Child items:

+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
| **Item**           | **Mandatory**   | **Description**         |                              |                                                        |
+====================+=================+=========================+==============================+========================================================+
| ``ContactInfo``    | no              | contact information     |                              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | **Item**        | **Mandatory**           | **Description**              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | ``Name``        | yes                     | full name                    |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | ``Email``       | yes                     | email                        |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | ``Phone``       | yes                     | phone                        |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | ``Comment``     | yes                     | comment (optional)           |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
| ``OrderId``        | yes             | id of existing order    |                              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
| ``AccountComment`` | no              | comment for the account |                              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
| ``PayForm``        | no              | New order pay form      |                              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
| ``Items``          | yes             | Order items (vehicles)  |                              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | **Item**        | **Mandatory**           | **Description**              |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    | ``VehicleItem`` | yes                     | order item (may be more one) |                                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | **Item**                | **Mandatory**                | **Description**                                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``ItemId``              | yes                          | order item                                             |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``PickUp``              | yes                          | pick up location parameters                            |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``DropOff``             | yes                          | drop off location parameters                           |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``Driver``              | yes                          | Driver (Mr, Mrs,..., name, second name, date of birth) |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``Extras``              | no                           | the list of the selected extras                        |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+
|                    |                 | ``VoucherInfo``         | no                           | Information for voucher                                |
+--------------------+-----------------+-------------------------+------------------------------+--------------------------------------------------------+

ContactInfo Item
----------------

Attributes: no.

Child items:

+-------------+---------------+--------------------------------+
| **Item**    | **Mandatory** | **Description**                |
+=============+===============+================================+
| ``Name``    | yes           | User full name (max 100 chars) |
+-------------+---------------+--------------------------------+
| ``Email``   | yes           | email (max 100 chars)          |
+-------------+---------------+--------------------------------+
| ``Phone``   | yes           | phone (max 15 chars)           |
+-------------+---------------+--------------------------------+
| ``Comment`` | yes           | comment (optional)             |
+-------------+---------------+--------------------------------+

Item Items
----------

Items order.

- Mandatory Item.
- Atributes: no.

Child items:

+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
| **Item**        | **Mandatory** | **Description**              |                      |                                                        |
+=================+===============+==============================+======================+========================================================+
| ``VehicleItem`` | yes           | Order item (may be more one) |                      |                                                        |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 | **Item**      | **Mandatory**                | **Description**      |                                                        |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 | ``ItemId``    | yes                          | id of the order item |                                                        |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 |               | ``PickUp``                   | yes                  | pick up location parameters                            |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 |               | ``DropOff``                  | yes                  | drop off location parameters                           |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 |               | ``Driver``                   | yes                  | Driver (Mr, Mrs,..., name, second name, date of birth) |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 |               | ``Extras``                   | no                   | the list of the selected extras                        |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+
|                 |               | ``VoucherInfo``              | no                   | Information for voucher                                |
+-----------------+---------------+------------------------------+----------------------+--------------------------------------------------------+

VehicleItem
^^^^^^^^^^^

Order item - vehicle.

- Mandatory Item.
- Attributes: no.

Child items:

+-----------------+---------------+--------------------------------------------------------+
| **Item**        | **Mandatory** | **Description**                                        |
+=================+===============+========================================================+
| ``ItemId``      | yes           | id of the order item                                   |
+-----------------+---------------+--------------------------------------------------------+
| ``PickUp``      | yes           | Pick up location parameters                            |
+-----------------+---------------+--------------------------------------------------------+
| ``DropOff``     | yes           | Drop off location parameters                           |
+-----------------+---------------+--------------------------------------------------------+
| ``Driver``      | yes           | Driver (Mr, Mrs, name, second name, date of the birth) |
+-----------------+---------------+--------------------------------------------------------+
| ``Extras``      | no            | The list of the selected extras                        |
+-----------------+---------------+--------------------------------------------------------+
| ``VoucherInfo`` | no            | Information for voucher                                |
+-----------------+---------------+--------------------------------------------------------+

Item PickUp
'''''''''''

Pick up location parameters.

- Mandatory Item.
- Attributes: no.

Child items:

+---------------------+----------------------------------------------------+---------------+----------------------------------------------------------+
| **Item**            | **Type**                                           | **Mandatory** | **Description**                                          |
+=====================+====================================================+===============+==========================================================+
| ``PickUpStation``   | numeric                                            | yes           | id of the pick up station                                |
+---------------------+----------------------------------------------------+---------------+----------------------------------------------------------+
| ``PickUpFlightNum`` | string                                             | yes           | flight num (if airoport is supported)                    |
+---------------------+----------------------------------------------------+---------------+----------------------------------------------------------+
| ``PickUpHotel``     | contains hotel id or name and address of the hotel | no            | information about the hotel, if this option is supported |
+---------------------+----------------------------------------------------+---------------+----------------------------------------------------------+

Item PickUpHotel
''''''''''''''''

Hotel parameters (if this option is supported).

- Not Mandatory Item.

Attributes of the ``PickUpHotel item``:

+---------------+----------+---------------+---------------------+
| **Attribute** | **Type** | **Mandatory** | **Description**     |
+===============+==========+===============+=====================+
| ``hotelId``   | numeric  | yes           | hotel id (delivery) |
+---------------+----------+---------------+---------------------+

Child items:

+---------------+----------------------------------------+---------------+----------------------------------+
| **Item**      | **Type**                               | **Mandatory** | **Description**                  |
+===============+========================================+===============+==================================+
| ``HotelInfo`` | contains name and address of the hotel | no            | information about hotel delivery |
+---------------+----------------------------------------+---------------+----------------------------------+

HotelInfo Item
''''''''''''''

Hotel parameters (if this option is supported).

- Not Mandatory Item.
- Child items: no.

Attributes of the ``HotelInfo item``:

+------------------+----------+---------------+-----------------------+
| **Attribute**    | **Type** | **Mandatory** | **Description**       |
+==================+==========+===============+=======================+
| ``hotelName``    | string   | yes           | hotel (delivery) name |
+------------------+----------+---------------+-----------------------+
| ``hotelAddress`` | string   | yes           | hotel address         |
+------------------+----------+---------------+-----------------------+

Item DropOff
''''''''''''

Drop off location parameters.

- Mandatory Item.
- Attributes: no.

Child items:

+--------------------+----------+---------------+----------------------------+
| **Item**           | **Type** | **Mandatory** | **Description**            |
+====================+==========+===============+============================+
| ``DropOffStation`` | numeric  | yes           | id of the drop off station |
+--------------------+----------+---------------+----------------------------+

Item Driver
'''''''''''

Driver.

- Mandatory Item.
- Attributes: no.

Child items:

+---------------+----------------+---------------+-----------------------------+
| **Item**      | **Type**       | **Mandatory** | **Description**             |
+===============+================+===============+=============================+
| ``Title``     | Mr,Ms,Mrs,Chld | yes           | Mr, Mrs,...,                |
+---------------+----------------+---------------+-----------------------------+
| ``FirstName`` | string         | yes           | Driver name (latin letters) |
+---------------+----------------+---------------+-----------------------------+
| ``LastName``  | string         | yes           | second name (latin letters) |
+---------------+----------------+---------------+-----------------------------+
| ``BirthDate`` | string         | yes           | date of birth (YY-mm-dd)    |
+---------------+----------------+---------------+-----------------------------+

Item Extras
'''''''''''

The list of the selected extras.

- Not Mandatory Item.
- Attributes: no.

Child items:

+-----------+-----------------------------------+---------------+-----------------+
| **Item**  | **Type**                          | **Mandatory** | **Description** |
+===========+===================================+===============+=================+
| ``Extra`` | id of the extra (may be more one) | yes           |                 |
+-----------+-----------------------------------+---------------+-----------------+

Item VoucherInfo
''''''''''''''''

Information for voucher.

- Not Mandatory Item.
- Attributes: no.
- Child items: no

Response, ModifyOrderResponse
-----------------------------

Response pattern is the same as in response to a request for information about order (``OrderInfoResponse``).