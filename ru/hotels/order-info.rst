Информация о Заказе
###################

Описание XML схемы с информацией о заказе
=========================================

Запрос на получение XML-описания заказа сейчас формируется через URL (методом GET).

XSD-схема ответа с информацией о заказе:

- ``www/xsd/OrderInfoResponse.xsd``

Запрос информации о заказе
--------------------------

В запросе должен быть один параметр – ``order_id``, сейчас он передаётся через URL вместе с учётными данными(``login``, ``password``, ``checksum``,..).

Запрос формируется по пути: ``/xml/order_info``

Ответ на запрос о информации заказа, OrderInfoResponse
------------------------------------------------------

::

    <?xml version="1.0" encoding="utf-8"?>

        <OrderInfoResponse>
         [<Errors>
            <Error code="..." description="..."> - ошибки
          </Errors>]
          <Order>

            <Id>...</Id> - идентификатор заказа
            <Tag>...</Tag> - референс заказа
            [<AccountComment>...</AccountComment>] - Комментарий для счета. Возвращается если для XML-клиента включено право "Видит комментарий для счета".
            <State>...</State> - состояние заказа
            <CreationDate>...</CreationDate> - дата и время создания заказа
            <PayForm>...</PayForm> - форма оплаты заказа
            [<Account_1C> - информация о счете 1С
              <Document type="..." download="..." date="..." num="..." currency_date="..." total_sum="..."> - информация о документе
            </Account_1C>]
            <Paxes>

              <Pax paxId="..." child="true|false"> - данные о каждой персоне в заказе
                <Title>...</Title>

                <FirstName>...</FirstName>

                <LastName>...</LastName>
              </Pax>

            </Paxes>
            <Items>

              <HotelItem itemId="40036"> - элемент заказа (отель)
                <HotelId>...</HotelId> - идентификатор отеля
                <CityId>...</CityId> - идентификатор города
                <Name>...</Name> - название отеля
                <CategoryId>...</CategoryId> - категория отеля
                <State>...</State> - состояние элемента заказа
                <CheckIn>...</CheckIn> - дата заезда
                <Duration>...</Duration> - длительность заезда
                <TotalPrice>...</TotalPrice>
                    <ExtraPrice currency="USD" >...</ExtraPrice>
            [<Fee>...</Fee>] - штраф, если есть
                <Currency>...</Currency>
                <HotelPaid>true|false</HotelPaid>
                [<UseNds>true|false</UseNds>] - НДС
                <SpecialOfferText>...</SpecialOfferText>
                <SpecialOffers>
                       <SpecialOffer>
                                text="..." - название спец. предложения
                                key="..." 
                                id="..." - id спец. предложения
                                from="..." - Дата начала действия спец. предложения
                                till="..." - Дата окончания действия спец. предложения
                                stay="..." - Количество ночей проживания для спец. предложения типа "Живи/плати"
                                pay="..." - Количество оплачиваемых ночей для спец. предложения типа "Живи/плати"
                                nights="..." - Скидка в ночах
                                percent="..." - Скидка в процентах
                                discount="..." - Сумма скидки
                       </SpecialOffer>
                </SpecialOffers>
                <ProviderId>...</ProviderId> - идентификатор поставщика
                <ProviderReference>...</ProviderReference> - референс брони поставщика
                <PermittedOperations> - список разрешенных операций над элементом заказа
                        <Edit>true|false</Edit> - допустимость редактирования элемента
                        <Cancel>true|false</Cancel> - допустимость аннуляции элемента
                        <IsBlocked>true|false</IsBlocked> - заблокирован элемент или нет
                </PermittedOperations>
                <EditableOptions> - список редактируемых опций элемента заказа
                    <Option
                            name="..." - название опции
                            editable="true|false" - возможно ли редактирование
                        />
                </EditableOptions>
                <RoomLocks> - список номеров элемента заказа, заблокированных для изменений
                    <Room
                            roomId="..." - id номера
                            lock="true|false" - заблокирован или нет
                        />
                </RoomLocks>
                <Rooms>

                  <Room
                     roomId=".."
                     roomSizeId=".." roomTypeId=".." roomViewId=".."
                     roomName="..."
                     mealId="..." mealName="..."

                     mealBreakfastId="..." mealBreakfastName="..."
                     child="0|1" cots="0|1|2" sharingBedding="true|false"

                     >
                     <Paxes> - список персон в номере
                       <PaxId>...</PaxId>
                     </Paxes>
                  </Room>

                </Rooms>

                <Remarks> - ремарки заказа
                  [<Remark>...</Remark>]
                </Remarks>
                <ChargeConditions>

                  <Currency>..</Currency> - валюта штрафов
                  <Cancellations> - штрафы при отмене
                    <Cancellation - может быть несколько таких элементов

                      charge="true|false" - есть ли штраф

                      [from="2008-02-28T11:50:00"] - штраф действует от этой даты
                      [to="2008-02-28T11:50:00"] - и до этой

                      [price="100.00"] - цена в валюте Currency (элемент присутствует только если charge=true)
                      [policy="1 ночь"] - политика штрафа

                    />
                  </Cancellations>
                  <Amendments> - штрафы при изменении
                    <Amendment - может быть несколько таких элементов
                      charge="true|false"

                      [from="YYYY-MM-DDThh:ii:ss"]
                      [to="YYYY-MM-DDThh:ii:ss"]
                      [price=".."]

                      [policy=".."]

                    />
                  </Amendments>
                </ChargeConditions>

                <PriceDetails> - разбивки цен
                  <Currency>..</Currency> - валюта цен
                 [<Discount>..</Discount>] - скидка от поставщика
                 [<Offer>..</Offer>] - текст предложения(скидки) от поставщика
                  <RoomPrices>

                    <Room - может быть несколько таких элементов
                      roomNumber=".." - число комнат
                      roomName="..."

                      child="0|1" - количество детей

                     [cots="1|2"] - количество люлек (если нет - не будет и аттрибута)

                      >
                      <Price - может быть несколько таких элементов

                        date="YYYY-MM-DD"

                        available="true|false" - доступна ли разбивка

                        price=".." - цена

                       [priceChild=".."] - цена на детей

                       [priceCot=".."] - цена на люльки

                      />
                    </Room>

                  </RoomPrices>
                </PriceDetails>

              </HotelItem>

            </Items>
            <ContactInfo> -  контактная информация заказчика
              <Name>...</Name>

              <Email>...</Email>

              <Phone>...</Phone>
              <Comment>...</Comment>
            </ContactInfo>

          </Order>
        </OrderInfoResponse>

Элемент OrderInfoResponse
-------------------------

Информация о заказе

Корневой элемент.

- *Атрибуты: нет.*

Дочерние элементы:

+--------+-------------------------------------+--------------------------+
| Имя    | Обязательный                        | Описание                 |
+========+=====================================+==========================+
| Errors | Нет                                 | Список ошибок, если есть |
+--------+-------------------------------------+--------------------------+
| Order  | Нет (отсутствует, если были ошибки) | Информация о заказе      |
+--------+-------------------------------------+--------------------------+

Элемент Errors
--------------

Список найденных отелей.

- *Атрибуты: нет.*

Дочерние элементы:

+-------+--------------+-----------------------------------+
| Имя   | Обязательный | Описание                          |
+=======+==============+===================================+
| Error | Да           | Описание ошибки.                  |
|       |              | Атрибуты:                         |
|       |              | ``code`` - код ошибки             |
|       |              | ``description`` - описание ошибки |
+-------+--------------+-----------------------------------+

Элемент Order
-------------

Описание заказа.

- *Атрибуты: нет.*

Дочерние элементы:

+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Имя            | Тип                       | Обязательный | Описание                                                                                                                                                                  |
+================+===========================+==============+===========================================================================================================================================================================+
| Id             | Число                     | Да           | Идентификатор заказа                                                                                                                                                      |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Tag            | Строка                    | Да           | Референс заказа                                                                                                                                                           |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| AccountComment | Строка                    | Нет          | Комментарий для счета. Присутствие элемента является признаком наличия прав                                                                                               |
|                |                           |              | "Видит комментарий для счета" у XML-клиента.                                                                                                                              |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| State          | Строка                    | Да           | Состояние заказа (новый, измененный, подтвержденый)                                                                                                                       |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| CreationDate   | YYYY-MM-DD HH:MM:SS       | Да           | Дата и время создания заказа (например, 2013-01-11 12:23:00)                                                                                                              |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PayForm        | Строка                    | Да           | Форма оплаты заказа (наличная, безналичная, неопределено). Если элементы заказа имеют разную форму оплаты (возможно для старых заказов), форма оплаты заказа неопределена |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Account_1C     | Список элементов Document | Нет          | Информация о счете 1С. Присутствие элемента является признаком наличия счета в заказе                                                                                     |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Paxes          | Список элементов Pax      | Да           | Список персон в заказе                                                                                                                                                    |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Items          | Список элементов          | Да           | Список элементов заказа, пока только отелей (HotelItem)                                                                                                                   |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ContactInfo    | Вложенные элементы        | Да           | Контактная информация заказчика                                                                                                                                           |
+----------------+---------------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Элемент Order/Account_1C
-------------------------

Список бухгалтерских документов

- *Атрибуты: нет.*

Дочерние элементы:

+----------+--------------+------------------------+
| Имя      | Обязательный | Описание               |
+==========+==============+========================+
| Document | Да           | Информация о документе |
+----------+--------------+------------------------+

Элемент Order/Account_1C/Document
----------------------------------

Информация о документе.

Атрибуты:

+---------------+--------+--------------+----------------------------------------------------------------+
| Имя           | Тип    | Обязательный | Описание                                                       |
+===============+========+==============+================================================================+
| type          | Строка | Да           | тип документа (main - счет, act - акт, report - отчет и т.д.)  |
+---------------+--------+--------------+----------------------------------------------------------------+
| download      | Строка | Да           | Ссылка для получения документа                                 |
+---------------+--------+--------------+----------------------------------------------------------------+
| date          | Дата   | Да           | Дата, когда счет был выставлен (например, 2013-01-11 12:23:00) |
+---------------+--------+--------------+----------------------------------------------------------------+
| num           | Строка | Да           | Номер счета                                                    |
+---------------+--------+--------------+----------------------------------------------------------------+
| currency_date | Дата   | Да           | Дата, на которую пересчитывается курс (например, 1970-01-01)   |
+---------------+--------+--------------+----------------------------------------------------------------+
| total_sum     | Число  | Нет          | Итоговая сумма                                                 |
+---------------+--------+--------------+----------------------------------------------------------------+

Элемент Order/Paxes
-------------------

Список персон в заказе

- *Атрибуты: нет.*

Дочерние элементы:

+-----+--------------+----------------------+
| Имя | Обязательный | Описание             |
+=====+==============+======================+
| Pax | Да           | Информация о персоне |
+-----+--------------+----------------------+

Элемент Order/Paxes/Pax
-----------------------

Информация о персоне.

Атрибуты:

+-------+----------------+--------------+------------------------+
| Имя   | Тип            | Обязательный | Описание               |
+=======+================+==============+========================+
| paxId | Число          | Да           | id персоны             |
+-------+----------------+--------------+------------------------+
| child | true или false | Да           | Если true, это ребенок |
+-------+----------------+--------------+------------------------+

Дочерние элементы:

+-----------+-------------------+--------------+---------------------+
| Имя       | Тип               | Обязательный | Описание            |
+===========+===================+==============+=====================+
| Title     | Mr, Mrs, Ms, Chld | Да           | Обращение к персоне |
+-----------+-------------------+--------------+---------------------+
| FirstName | Строка            | Да           | Имя персоны         |
+-----------+-------------------+--------------+---------------------+
| LastName  | Строка            | Да           | Фамилия персоны     |
+-----------+-------------------+--------------+---------------------+

**Внимание:** *Элемент ``FullName`` сейчас необязательный и будет удален с 01.01.2013*

Элемент Order/Items/HotelItem
-----------------------------

Список номеров отеля.

**Атрибуты:**

+--------+-------+--------------+-------------------------------+
| Имя    | Тип   | Обязательный | Описание                      |
+========+=======+==============+===============================+
| itemId | Число | Да           | Идентификатор элемента заказа |
+--------+-------+--------------+-------------------------------+

**Дочерние элементы:**

+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Имя               | Тип                         | Обязательный | Описание                                                                    |
+===================+=============================+==============+=============================================================================+
| HotelId           | Число                       | Да           | id отеля                                                                    |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| CityId            | Число                       | Да           | id города, где находится отель                                              |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Name              | Строка                      | Да           | Название отеля                                                              |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| CategoryId        | Число                       | Да           | id категории звездности отеля из списка категорий                           |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| State             | Число                       | Да           | Состояние элемента заказа (новый, в обработке, подтвержден, отменен и т.д.) |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| CheckIn           | Дата в формате "YYYY-MM-DD" | Да           | Дата заезда                                                                 |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Duration          | Число                       | Да           | Длительность заезда (дни)                                                   |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| TotalPrice        | Число                       | Да           | Цена                                                                        |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Currency          | строка                      | Да           | Валюта отеля                                                                |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| CheckInTime       | Список атрибутов            | Да           | Время прибытия в номер отеля                                                |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| CheckOutTime      | Список атрибутов            | Да           | Время отъезда из номера отеля                                               |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| HotelPaid         | true или false              | Да           | Заплачено или нет                                                           |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| UseNds            | true или false              | Нет          | НДС включен или нет. Если элемент отсутствует, не облагается налогом        |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| SpecialOfferText  | Строка                      | Да           | Специальное предложение отеля                                               |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| ProviderId        | Число                       | Да           | id поставщика, давшего информацию об отеле                                  |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| ProviderReference | Строка                      | Да           | референс брони поставщика, давшего информацию об отеле                      |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| EditableOptions   | Список элементов Option     | Да           | список опций, разрешенных к редактированию в отеле                          |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| RoomLocks         | Список элементов Room       | Да           | список номеров отеля, заблокированных для редактирования                    |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Rooms             | Список элементов Room       | Да           | Список номеров, заказанных в отеле                                          |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| Remarks           | Список элементов Remark     | Да           | Список ремарок заказа                                                       |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| ChargeConditions  | Вложенные элементы          | Нет          | Список штрафов                                                              |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+
| PriceDetails      | Вложенные элементы          | Нет          | Разбивка цен                                                                |
+-------------------+-----------------------------+--------------+-----------------------------------------------------------------------------+

Элемент Order/Items/HotelItem/CheckInTime
-----------------------------------------

Время прибытия в номер отеля

**Атрибуты:**

+---------+----------------+--------------+-------------------------------------------------------+
| Имя     | Тип            | Обязательный | Описание                                              |
+=========+================+==============+=======================================================+
| info    | true или false | Да           | Признак нестандартного времени прибытия, ранний заезд |
+---------+----------------+--------------+-------------------------------------------------------+
| default | Время HH:MM    | Да           | Время по умолчанию для отеля                          |
+---------+----------------+--------------+-------------------------------------------------------+
| value   | Время HH:MM    | Да           | Время заданное в заказе                               |
+---------+----------------+--------------+-------------------------------------------------------+

**Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/CheckOutTime
------------------------------------------

Время отъезда из номера отеля

**Атрибуты:**

+---------+----------------+--------------+-------------------------------------------------------+
| Имя     | Тип            | Обязательный | Описание                                              |
+=========+================+==============+=======================================================+
| info    | true или false | Да           | Признак нестандартного времени отъезда, поздний выезд |
+---------+----------------+--------------+-------------------------------------------------------+
| default | Время HH:MM    | Да           | Время по умолчанию для отеля                          |
+---------+----------------+--------------+-------------------------------------------------------+
| value   | Время HH:MM    | Да           | Время заданное в заказе                               |
+---------+----------------+--------------+-------------------------------------------------------+

**Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/EditableOptions/Option
----------------------------------------------------

Разрешено ли редактировать данную опцию отеля.

**Атрибуты:**

+----------+----------------+--------------+-------------------+
| Имя      | Тип            | Обязательный | Описание          |
+==========+================+==============+===================+
| name     | Строка         | Да           | Название опции    |
+----------+----------------+--------------+-------------------+
| editable | true или false | Да           | Разрешено или нет |
+----------+----------------+--------------+-------------------+

Элемент Order/Items/HotelItem/RoomLocks/Room
--------------------------------------------

Заблокирован ли номер для редактирования

**Атрибуты:**

+--------+----------------+--------------+----------------------+
| Имя    | Тип            | Обязательный | Описание             |
+========+================+==============+======================+
| roomId | Число          | Да           | id номера            |
+--------+----------------+--------------+----------------------+
| lock   | true или false | Да           | Заблокирован или нет |
+--------+----------------+--------------+----------------------+

Элемент Order/Items/HotelItem/Rooms/Room
----------------------------------------

Описание номера отеля.

**Атрибуты:**

+-------------------+-----------------+--------------+------------------------------------------------------------+
| Имя               | Тип             | Обязательный | Описание                                                   |
+===================+=================+==============+============================================================+
| roomId            | Число           | Да           | Идентификатор номера (требуется для запроса ModifyOrder)   |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| roomSizeId        | Число           | Да           | Идентификатор размера номера                               |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| roomTypeId        | Число           | Да           | Идентификатор типа номера                                  |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| roomViewId        | Число           | Да           | Идентификатор вида из номера                               |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| roomName          | Строка          | Да           | Название номера (размер, тип, вид)                         |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| mealId            | Число           | Да           | Идентификатор типа питания из списка типов питания         |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| mealName          | Строка          | Да           | Название типа питания                                      |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| mealBreakfastId   | Число           | Да           | Идентификатор типа завтрака из списка завтраков            |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| mealBreakfastName | Строка          | Да           | Название типа завтрака                                     |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| child             | 0 или 1         | Да           | Есть ли в номере дополнительное место для ребенка          |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| cots              | Чсило от 0 до 2 | Да           | Количество люлек в номере                                  |
+-------------------+-----------------+--------------+------------------------------------------------------------+
| sharingBedding    | true или false  | Да           | Разделение постельных принадлежностей на двоих (если true) |
+-------------------+-----------------+--------------+------------------------------------------------------------+

**Дочерние элементы:**

+-------+--------------+----------------------------------------------------------------------------+
| Имя   | Обязательный | Описание                                                                   |
+=======+==============+============================================================================+
| Paxes | Да           | Список персон в номере - список элементов PaxId, взятых из Order/Paxes/Pax |
+-------+--------------+----------------------------------------------------------------------------+

Элемент Order/Items/HotelItem/Remarks
-------------------------------------

Список ремарок заказа.

**Атрибуты:** нет.

**Дочерние элементы:**

+--------+--------+--------------+-------------+
| Имя    | Тип    | Обязательный | Описание    |
+========+========+==============+=============+
| Remark | Строка | Нет          | Код ремарки |
+--------+--------+--------------+-------------+

==== Элемент Order/Items/HotelItem/ChargeConditions ====

Штрафы при отмене и изменении брони

**Атрибуты:** нет.

**Дочерние элементы:**

+-----------------+--------------+-------------------------------------+
| Имя             | Обязательный | Описание                            |
+=================+==============+=====================================+
| Currency        | Да           | Валюта штрафов                      |
+-----------------+--------------+-------------------------------------+
| DenyNameChanges | Да           | Возможность изменить имена клиентов |
+-----------------+--------------+-------------------------------------+
| Cancellations   | Да           | Список штрафов при отмене           |
+-----------------+--------------+-------------------------------------+
| Amendments      | Нет          | Список штрафов при изменении        |
+-----------------+--------------+-------------------------------------+
| TextCharges     | Нет          | Текстовые штрафы (приоритетные)     |
+-----------------+--------------+-------------------------------------+

Элемент Order/Items/HotelItem/ChargeConditions/DenyNameChanges
--------------------------------------------------------------

Возможность изменить имена клиентов

**Атрибуты:**

+------+----------------+--------------+-----------------------------------------+
| Имя  | Тип            | Обязательный | Описание                                |
+======+================+==============+=========================================+
| deny | true или false | Да           | Запрещено (true), разрешено (false)     |
+------+----------------+--------------+-----------------------------------------+
| from | Дата           | Нет          | Дата и время начала действия запрета    |
+------+----------------+--------------+-----------------------------------------+
| to   | Дата           | Нет          | Дата и время окончания действия запрета |
+------+----------------+--------------+-----------------------------------------+

\\ **Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/ChargeConditions/Cancellation
-----------------------------------------------------------

Список штрафов при отмене.

**Атрибуты:**

+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| Имя         | Тип            | Обязательный | Описание                                                                        |
+=============+================+==============+=================================================================================+
| charge      | true или false | Да           | Есть штраф(true), или нет(false)                                                |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| denyChanges | true или false | Да           | Запрет аннуляции брони                                                          |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| from        | Дата           | Нет          | Дата и время начала действия штрафа                                             |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| to          | Дата           | Нет          | Дата и время окончания действия штрафа                                          |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| price       | Число          | Нет          | Цена в валюте Currency (аттрибут будет присутствовать только если charge=true)  |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| policy      | Строка         | Нет          | Политика штрафа (иногда вместо цены может указывать политика, например «1 ночь» |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| charge      | true или false | Да           | есть штраф(true), или нет(false)                                                |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+

**Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/ChargeConditions/Amendment
--------------------------------------------------------

Список штрафов при изменении.

**Атрибуты:**

+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| Имя         | Тип            | Обязательный | Описание                                                                        |
+=============+================+==============+=================================================================================+
| charge      | true или false | Да           | Есть штраф(true), или нет(false)                                                |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| denyChanges | true или false | Да           | Запрет изменения брони                                                          |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| from        | Дата           | Нет          | Дата и время начала действия штрафа                                             |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| to          | Дата           | Нет          | Дата и время окончания действия штрафа                                          |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| price       | Число          | Нет          | Цена в валюте Currency (аттрибут будет присутствовать только если charge=true)  |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| policy      | Строка         | Нет          | Политика штрафа (иногда вместо цены может указывать политика, например «1 ночь» |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+
| charge      | true или false | Да           | есть штраф(true), или нет(false)                                                |
+-------------+----------------+--------------+---------------------------------------------------------------------------------+

**Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/ChargeConditions/TextCharges
----------------------------------------------------------

Текстовые штрафы

**Дочерние элементы:** нет.

Элемент Order/Items/HotelItem/PriceDetails
------------------------------------------

Разбивка цен по комнатам.

**Атрибуты:** нет.

**Дочерние элементы:**

+------------+-----------------------+--------------+------------------------------------------+
| Имя        | Тип                   | Обязательный | Описание                                 |
+============+=======================+==============+==========================================+
| Currency   | Строка                | Да           | Валюта цен                               |
+------------+-----------------------+--------------+------------------------------------------+
| Discount   | Число                 | Нет          | Скидка от поставщика                     |
+------------+-----------------------+--------------+------------------------------------------+
| Offer      | Строка                | Нет          | Текст предложения (скидки) от поставщика |
+------------+-----------------------+--------------+------------------------------------------+
| RoomPrices | Список элементов Room | Да           | Разбивка цен                             |
+------------+-----------------------+--------------+------------------------------------------+

Элемент Order/Items/HotelItem/PriceDetails/RoomPrices/Room
----------------------------------------------------------

Разбивка цен по дням заезда.

**Атрибуты:**

+------------+-----------------+--------------+-------------------------------------------------------------------------+
| Имя        | Тип             | Обязательный | Описание                                                                |
+============+=================+==============+=========================================================================+
| roomNumber | Число           | Да           | Количество таких номеров (>=1)                                          |
+------------+-----------------+--------------+-------------------------------------------------------------------------+
| roomName   | Строка          | Да           | Название номера (размер, тип, вид)                                      |
+------------+-----------------+--------------+-------------------------------------------------------------------------+
| child      | 0 или 1         | Да           | Есть ли в номере место для ребенка                                      |
+------------+-----------------+--------------+-------------------------------------------------------------------------+
| cots       | Число от 1 до 2 | Нет          | Количество люлек (1 или 2, если нет -- то аттрибут будет отсутствовать) |
+------------+-----------------+--------------+-------------------------------------------------------------------------+

**Дочерние элементы:**

+-------+--------------+--------------+
| Имя   | Обязательный | Описание     |
+=======+==============+==============+
| Price | Да           | Цены по дням |
+-------+--------------+--------------+

Элемент Order/Items/HotelItem/PriceDetails/RoomPrices/Room/Price
----------------------------------------------------------------

Цена

**Атрибуты:**

+------------+-----------------------------+--------------+--------------------------+
| Имя        | Тип                         | Обязательный | Описание                 |
+============+=============================+==============+==========================+
| date       | Дата в формате "YYYY-MM-DD" | Да           | Дата действия цены       |
+------------+-----------------------------+--------------+--------------------------+
| available  | true или false              | Да           | Доступна ли разбивка цен |
+------------+-----------------------------+--------------+--------------------------+
| price      | Число                       | Да           | Цена за взрослого        |
+------------+-----------------------------+--------------+--------------------------+
| priceChild | Число                       | Нет          | Цена за ребенка          |
+------------+-----------------------------+--------------+--------------------------+
| priceCot   | Число                       | Нет          | Цена за люльку           |
+------------+-----------------------------+--------------+--------------------------+

**Дочерние элементы:** нет.

Элемент Order/ContactInfo
-------------------------

Контактная информация с тем, кто бронирует заказ.

**Атрибуты:** нет.

**Дочерние элементы:**

+---------+--------------------------------+--------------+------------------------------------------+
| Имя     | Тип                            | Обязательный | Описание                                 |
+=========+================================+==============+==========================================+
| Name    | Строка (максимум 100 символов) | Да           | Ф.И.О. заказчика                         |
+---------+--------------------------------+--------------+------------------------------------------+
| Email   | Строка (максимум 100 символов) | Да           | Адрес электронной почты заказчика        |
+---------+--------------------------------+--------------+------------------------------------------+
| Phone   | Строка (максимум 15 символов)  | Да           | Телефон заказчика                        |
+---------+--------------------------------+--------------+------------------------------------------+
| Comment | Строка                         | Да           | Комментарий к заказу (может быть пустым) |
+---------+--------------------------------+--------------+------------------------------------------+