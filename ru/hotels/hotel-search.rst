Поиск Отелей
############

Описание XML схем поиска отелей
===============================

XSD-схемы поиска отелей:

-  ``www/xsd/HotelSearchRequest.xsd``
-  ``www/xsd/HotelSearchResponse.xsd``

Асинхронный поиск отелей - см. `Элемент HotelSearchId <#h1285-20>`_

Запрос на поиск отелей, HotelSearchRequest
------------------------------------------

XML-схема запроса:

::

    <?xml version="1.0" encoding="utf-8"?>

    <HotelSearchRequest>
      <Request
        cityId="id"
        checkIn="YYYY-MM-DD"
        duration="число от 1 до 31"

        [hotelName=""]
        [categoryId="id"]
        [hotelId="id"]
        [locationId="id"]
        [visa="msk|spb"]
        [confirmation="online|onRequest|all"]/>

      [<HotelItems><HotelItemId>...</HotelItemId>...</HotelItems>] - одна или несколько требуемых услуг
      <Rooms>
        
        <Room 
           roomNumber=".." - число комнат
           adults=".." - число взрослых
           [children=".."] - число детей: 0, 1, ...
           [cots=0|1|2] - число люлек
        >
           [<ChildAge>число</ChildAge>] - возрасты детей, от 2-х до 18-ти
           [<ChildAge>число</ChildAge>]
           ...
        </Room>
        
      </Rooms>
    </HotelSearchRequest>

Элемент HotelSearchRequest
--------------------------

Запрос на поиск отелей.

| **Корневой элемент.**
| **Аттрибутов** нет.

**Дочерние элементы** ``HotelSearchRequest``:

+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
| **Элемент**    | **Обязательный** | **Описание**                      |                                    |                               |
+================+==================+===================================+====================================+===============================+
| ``Request``    | да               | Параметры запроса (как аттрибуты) |                                    |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
| ``HotelItems`` | нет              | Требуемые услуги                  |                                    |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                | **Элемент**      | **Обязательный**                  | **Описание**                       |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                | ``HotelItemId``  | да                                | id услуги (услуг может быть много) |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
| ``Rooms``      | да               | Комнаты                           |                                    |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                | **Элемент**      | **Обязательный**                  | **Описание**                       |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                | ``Room``         | да                                | Комната (комнат может быть много)  |                               |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                |                  | **Элемент**                       | **Обязательный**                   | **Описание**                  |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+
|                |                  | ``ChildAge``                      | нет                                | Возраст ребёнка (число 2..18) |
+----------------+------------------+-----------------------------------+------------------------------------+-------------------------------+

Элемент Request
---------------

В элементе указываются параметры запроса (как аттрибуты).

| **Обязательный элемент.**
| **Дочерних элементов нет.**

**Аттрибуты элемента** ``Request``:

+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| **Аттрибут**       | **Тип**                          | **Обязательный**   | **Описание**                                                                                                                         |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``cityId``         | число                            | да                 | id города, список всех доступных городов /xml/cities                                                                                 |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``checkIn``        | дата, в формате ``YYYY-MM-DD``   | да                 | Дата размещения в отеле (первый день)                                                                                                |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``duration``       | число 1..31                      | да                 | Продолжительность, дни                                                                                                               |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``hotelName``      | строка                           | нет                | Название отеля (фрагмент из названия), список всех доступных отелей /xml/hotel\_list                                                 |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``categoryId``     | число                            | нет                | id категории звёздности отеля, список всех доступных категорий /xml/hotel\_cat                                                       |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``hotelId``        | число                            | нет                | id отеля, список всех доступных отелей /xml/hotel\_list                                                                              |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``locationId``     | число                            | нет                | id локации отеля, список всех локаций /xml/location                                                                                  |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``visa``           | msk, spb                         | нет                | Если указан аттрибут, то поиск отелей, с обязательным наличием одной из выбранных виз, если аттрибут не указан – независимо от виз   |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+
| ``confirmation``   | online, onRequest, all           | нет                | Требуемый вид подтверждения. Если all или не указан – независимо                                                                     |
+--------------------+----------------------------------+--------------------+--------------------------------------------------------------------------------------------------------------------------------------+

Элемент HotelItems
------------------

Требуемые услуги в отеле (указываются как вложенные элементы ``HotelItemId``).

| **Необязательный элемент.**
| **Аттрибутов нет.**

**Дочерние элементы** HotelItems:

+-------------------+--------------------+-------------------------------------------------------------------+
| **Элемент**       | **Обязательный**   | **Описание**                                                      |
+-------------------+--------------------+-------------------------------------------------------------------+
| ``HotelItemId``   | да                 | id услуги, услуг может быть много, списки всех доступных услуг:   |
|                   |                    |  /xml/hotel\_facility – услуги отеля                              |
|                   |                    |  /xml/hotel\_type – типы отелей                                   |
|                   |                    |  /xml/room\_amenity – удобства в номере                           |
+-------------------+--------------------+-------------------------------------------------------------------+

Элемент Providers
-----------------

Список поставщиков, по которым будет производиться поиск (указываются как вложенные элементы ``ProviderId``).
Этот элемент имеют право указывать только те пользователи, у которых установлено право "Видит поставщика".

| **Необязательный элемент.**
| **Аттрибутов нет.**

**Дочерние элементы:**

+------------------+--------------------+------------------------------------------------------------------------------------------------------+
| **Элемент**      | **Обязательный**   | **Описание**                                                                                         |
+------------------+--------------------+------------------------------------------------------------------------------------------------------+
| ``ProviderId``   | да                 | id поставщика, постовщиков может быть несколько, список всех доступных поставщиков: /xml/providers   |
+------------------+--------------------+------------------------------------------------------------------------------------------------------+

Элемент Rooms
-------------

В элементе указывается список требуемых комнат(дочерние элементы ``Room``). Максимальное количество человек в запросе не может превышать 9.

| **Обязательный элемент.**
| **Аттрибутов нет.**

**Дочерние элементы Rooms:**

+---------------+--------------------+-----------------------------------------------+
| **Элемент**   | **Обязательный**   | **Описание**                                  |
+---------------+--------------------+-----------------------------------------------+
| ``Room``      | да                 | Параметры комнаты (комнат может быть много)   |
+---------------+--------------------+-----------------------------------------------+

Элемент Room
^^^^^^^^^^^^

Параметры комнаты (указываются как аттрибуты). Если в комнате должен быть ребенок (children >= 1), то указывается ещё элемент ``Child Age``.

**Обязательный элемент.**

**Аттрибуты элемента** ``Room``:

+------------------+-----------------+--------------------+------------------------------------------------------+
| **Аттрибут**     | **Тип**         | **Обязательный**   | **Описание**                                         |
+------------------+-----------------+--------------------+------------------------------------------------------+
| ``roomNumber``   | число           | да                 | Число таких комнат (минимум 1)                       |
+------------------+-----------------+--------------------+------------------------------------------------------+
| ``adults``       | число, 1 - 4    | да                 | Число взрослых в комнате, от 1 до 4                  |
+------------------+-----------------+--------------------+------------------------------------------------------+
| ``children``     | число 1 - 4     | нет                | Число детей в комнате, 0 (детей нет) или от 1 до 4   |
+------------------+-----------------+--------------------+------------------------------------------------------+
| ``cots``         | число 0, 1, 2   | нет                | Число люлек, 0 или 1 или 2                           |
+------------------+-----------------+--------------------+------------------------------------------------------+

**Дочерние элементы** ``Room``:

+--------------+------------------+----------------------------------------------------------------------------------------------------------------------------------+
| **Элемент**  | **Обязательный** | **Описание**                                                                                                                     |
+==============+==================+==================================================================================================================================+
| ``ChildAge`` | нет              | Возраст ребёнка (2..18). Элементы должны присутствовать, если в родительском элементе ``Room`` аттрибут ``children`` не нулевой. |
|              |                  | Количество этих элементов должно быть равным значению children. Если указан возраст меньше 2, система вернет ошибку              |
+--------------+------------------+----------------------------------------------------------------------------------------------------------------------------------+

Ответ на поиск отелей, HotelSearchResponse
------------------------------------------

XML-схема ответа:

::

    <?xml version="1.0" encoding="utf-8"?>

    <HotelSearchResponse>
      <HotelSearchRequest>... исходный запрос ...</HotelSearchRequest>
      <Errors>
        <Error code="..." description="..."> - ошибки
      </Errors>

      <HotelSearch
        searchId="id"
        countryId="id" countryName=".."
        resourtId="id" resortName=".."
        cityId="id" cityName=".."/>

      <Hotels>
        <Hotel
            resultId="id"
            hotelId="id"
            hotelName=".."
            hotelCatId="id"
            hotelCatName=".."
            confirmation="onRequest|online|inaccessible" -- вид подтверждения
            price="orig_price" -- цена в валюте currency
            currency=".."
            comparePrice="real_price" -- цена в рублях
            duration=".."
            information=".."
            visaMsk="true|false"
            visaSpb="true|false"
            [useNds="true|false"]
            specialOffer="true|false" - действует ли специальное предложение

            [providerId="id"] -- поля может не быть, в зависимости от настроек пользователя
        >
          <Rooms>
            <Room
              roomName="..." 

              roomNumber=".."
              mealId="id"
              mealName="..."
              mealBreakfastId="id"
              mealBreakfastName="..."
              children=".."
              cots="0|1|2"
              sharingBedding="true|false"
            >

              [<ChildAge>2..18</ChildAge>] -- если есть ребёнок, возраст
            </Room>
          </Rooms>
          [<Locations>

            <Location id=".." name="..." /> -- может быть несколько локаций, к которым относится отель
          </Locations>]
        </Hotel>

      </Hotels>
    </HotelSearchResponse>

Элемент HotelSearchResponse
---------------------------

Ответ, сформированный сервером на поиск отелей **HotelSearchRequest**.

| **Корневой элемент.**
| **Аттрибутов нет.**

**Дочерние элементы** ``HotelSearchResponse``:

+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
| **Элемент**            | **Обязательный** | **Описание**                                   |                                                  |                      |
+========================+==================+================================================+==================================================+======================+
| ``HotelSearchRequest`` | нет              | Исходный запрос, см. выше – HotelSearchRequest |                                                  |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
| ``Errors``             | нет              | Список ошибок, если есть                       |                                                  |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        | **Элемент**      | **Обязательный**                               | **Описание**                                     |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        | ``Error``        | да                                             | Описание ошибки (и код), ошибок может быть много |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
| ``HotelSearch``        | нет              | Параметры запроса на поиск отелей              |                                                  |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
| ``Hotels``             | нет              | Список найденных отелей                        |                                                  |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        | **Элемент**      | **Обязательный**                               | **Описание**                                     |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        | ``Hotel``        | нет                                            | Найденный отель                                  |                      |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        |                  | **Элемент**                                    | **Обязательный**                                 | **Описание**         |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        |                  | ``Rooms``                                      | да                                               | Комнаты ``Room``     |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+
|                        |                  | ``Locations``                                  | нет                                              | Локации ``Location`` |
+------------------------+------------------+------------------------------------------------+--------------------------------------------------+----------------------+

Элемент HotelSearchRequest
--------------------------

Исходный XML-запрос, который передал пользователь.
Необязательный элемент. Отсутствует если исходный XML-запрос содержал ошибки в синтаксисе.
Описание схемы элемента см. выше (``HotelSearchRequest``)

Элемент Errors
--------------

Список ошибок (дочерние элементы ``Error``).

Необязательный элемент.
Аттрибутов нет.

Дочерние элементы ``Errors``:

+---------------+--------------------+-----------------------------------------------------------------------------------------------------------+
| **Элемент**   | **Обязательный**   | **Описание**                                                                                              |
+---------------+--------------------+-----------------------------------------------------------------------------------------------------------+
| ``Error``     | да                 | Код ошибки(``code``) и описание ошибки(``description``) как аттрибуты элемента. Ошибок может быть много   |
+---------------+--------------------+-----------------------------------------------------------------------------------------------------------+

Элемент Error
-------------

Код и расшифровка ошибки.

Обязательный элемент.
Дочерних элементов нет.

Аттрибуты элемента ``Error``:

+-------------------+-----------+--------------------+-------------------+
| **Аттрибут**      | **Тип**   | **Обязательный**   | **Описание**      |
+-------------------+-----------+--------------------+-------------------+
| ``code``          | строка    | да                 | Код ошибки UTS.   |
+-------------------+-----------+--------------------+-------------------+
| ``description``   | строка    | да                 | Описание ошибки   |
+-------------------+-----------+--------------------+-------------------+

Элемент HotelSearch
-------------------

Параметры поиска отелей. Необязательный элемент. Может отсутствовать, если возникли ошибки. Дочерних элементов нет.  Аттрибуты элемента ``HotelSearch``: 

+-----------------+---------+------------------+---------------------------------------------------------+
| **Аттрибут**    | **Тип** | **Обязательный** | **Описание**                                            |
+=================+=========+==================+=========================================================+
| ``searchId``    | число   | да               | id поиска                                               |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``countryId``   | число   | да               | id страны. Список всех доступных стран /xml/countries   |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``countryName`` | строка  | да               | Название страны                                         |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``resortId``    | число   | да               | id курорта. Список всех доступных курортов /xml/resorts |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``resortName``  | строка  | да               | Название курорта                                        |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``cityId``      | число   | да               | id города. Список всех доступных городов /xml/cities    |
+-----------------+---------+------------------+---------------------------------------------------------+
| ``cityName``    | строка  | да               | Название города                                         |
+-----------------+---------+------------------+---------------------------------------------------------+

Элемент Hotels
--------------

Список отелей (дочерние элементы ``Hotel``). Необязательный элемент. Может отсутствовать, если возникли ошибки. Аттрибутов нет.  Дочерние элементы ``Hotels``: 

+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
| **Элемент** | **Обязательный** | **Описание**                   |                  |                                            |
+=============+==================+================================+==================+============================================+
| ``Hotel``   | нет              | Найденный отель, его аттрибуты |                  |                                            |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             | **Элемент**      | **Обязательный**               | **Описание**     |                                            |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             | ``Rooms``        | да                             | Комнаты          |                                            |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             |                  | **Элемент**                    | **Обязательный** | **Описание**                               |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             |                  | ``Room``                       | да               | Аттрибуты комнаты, может быть много комнат |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             |                  | **Элемент**                    | **Обязательный** | **Описание**                               |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+
|             |                  | ``Location``                   | да               | Локации, может быть много локаций          |
+-------------+------------------+--------------------------------+------------------+--------------------------------------------+

Элемент Hotel
-------------

Содержит список параметров(аттрибутов) конкретного отеля, список комнат(элемент ``Rooms``) и возможно, список локаций (элемент ``Locations``). Необязательный элемент. Может отсутствовать, если возникли ошибки или нет подходящих под критерии поиска отелей.  Аттрибуты элемента ``Hotel``: 

+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| **Аттрибут**     | **Тип**                         | **Обязательный** | **Описание**                                                                                        |
+==================+=================================+==================+=====================================================================================================+
| ``resultId``     | число                           | да               | id результата. Свой для каждого найденного отеля.                                                   |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``hotelId``      | число                           | да               | id отеля, список всех доступных отелей /xml/hotel_list                                              |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``hotelName``    | строка                          | да               | Название отеля                                                                                      |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``hotelCatId``   | число                           | да               | id категории звёздности отеля, список всех доступных категорий /xml/hotel_cat                       |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``hotelCatName`` | строка                          | да               | Название категории звёздности                                                                       |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``confirmation`` | onRequest, online, inaccessible | да               | Вид подтверждения («по запросу», «онлайн» и «недоступен» соответственно).                           |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``price``        | цена                            | да               | Цена в валюте ``currency``                                                                          |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``currency``     | строка                          | да               | Название валюты отеля                                                                               |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``comparePrice`` | цена                            | да               | Цена в рублях                                                                                       |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``duration``     | число(1..31)                    | да               | Продолжительность, дни                                                                              |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``information``  | строка                          | да               | Дополнительная информация                                                                           |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``visaMsk``      | true, false                     | да               | Виза Msk (true -- да, false -- нет)                                                                 |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``visaSpb``      | true, false                     | да               | Виза Spb (true -- да, false -- нет)                                                                 |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``useNds``       | true, false                     | нет              | Включен ли НДС (true -- да, false -- нет). Если атрибут отсутствует - не облагается налогом         |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``specialOffer`` | true, false                     | да               | Действует ли специальное предложение для этого отеля (наценка)                                      |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+
| ``providerId``   | число                           | нет              | id поставщика, который предоставил информацию об этом отеле. Эта информация предоставляется не всем |
+------------------+---------------------------------+------------------+-----------------------------------------------------------------------------------------------------+

 Дочерние элементы ``Hotel``: ``Rooms``, ``Locations`` 

Элемент Rooms
-------------


Список комнат (дочерние элементы ``Room``). Обязательный элемент. Аттрибутов нет.  Элементы внутри ``Rooms``: 

+-------------+------------------+--------------------------------------------+------------------------------------------------------------------------------------------------------------------+
| **Элемент** | **Обязательный** | **Описание**                               |                                                                                                                  |
+=============+==================+============================================+==================================================================================================================+
| ``Room``    | да               | Параметры комнаты, комнат может быть много |                                                                                                                  |
+-------------+------------------+--------------------------------------------+------------------------------------------------------------------------------------------------------------------+
|             | **Элемент**      | **Обязательный**                           | **Описание**                                                                                                     |
+-------------+------------------+--------------------------------------------+------------------------------------------------------------------------------------------------------------------+
|             | ``ChildAge``     | нет                                        | Возраст ребёнка (2..18). Элемент должен присутствовать, если в родительском элементе Room аттрибут child равен 1 |
+-------------+------------------+--------------------------------------------+------------------------------------------------------------------------------------------------------------------+

Элемент Room
------------

Описание (аттрибуты) комнаты. Обязательный элемент.  Аттрибуты элемента ``Room``: 

+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| **Аттрибут**          | **Тип**       | **Обязательный** | **Описание**                                                               |
+=======================+===============+==================+============================================================================+
| ``roomName``          | строка        | да               | Название номера (размер, тип, вид)                                         |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``roomNumber``        | число         | да               | Число таких комнат (минимум 1)                                             |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``mealId``            | число         | да               | id типа питания, список всех доступных типов питаний /xml/meal             |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``mealName``          | строка        | да               | Название типа питания                                                      |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``mealBreakfastId``   | число         | да               | id типа завтрака, список всех доступных типов завтрака /xml/meal_breakfast |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``mealBreakfastName`` | строка        | да               | Название типа завтрака                                                     |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``child``             | число 0, 1    | да               | Число детей в комнате, 0 или 1                                             |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``cots``              | число 0, 1, 2 | да               | Число люлек 0 или 1 или 2                                                  |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+
| ``sharingBedding``    | true, false   | да               | Разделение постельных принадлежностей на двоих (если true)                 |
+-----------------------+---------------+------------------+----------------------------------------------------------------------------+

Дочерние элементы ``Room``: 

+--------------+------------------+------------------------------------------------------------------------------------------------------------------+
| **Элемент**  | **Обязательный** | **Описание**                                                                                                     |
+==============+==================+==================================================================================================================+
| ``ChildAge`` | нет              | Возраст ребёнка (2..18). Элемент должен присутствовать, если в родительском элементе Room аттрибут child равен 1 |
+--------------+------------------+------------------------------------------------------------------------------------------------------------------+

Элемент Locations
-----------------

Локации отеля (дочерние элементы Location). Необязательный элемент. Может отсутствовать, если отелю не сопоставлена ни одна локация. Аттрибутов нет.  Дочерние элементы ``Locations``: 

+--------------+------------------+--------------------------------------------+
| **Элемент**  | **Обязательный** | **Описание**                               |
+==============+==================+============================================+
| ``Location`` | да               | Описание локации. Локаций может быть много |
+--------------+------------------+--------------------------------------------+

Элемент Location
----------------

Описание локации(аттрибуты). Обязательный элемент. Дочерних элементов нет.  Аттрибуты элемента ``Location``: 

+--------------+---------+------------------+-----------------------------------------------------+
| **Аттрибут** | **Тип** | **Обязательный** | **Описание**                                        |
+==============+=========+==================+=====================================================+
| ``id``       | число   | да               | id локации отеля, список всех локаций /xml/location |
+--------------+---------+------------------+-----------------------------------------------------+
| ``name``     | строка  | да               | Название локации                                    |
+--------------+---------+------------------+-----------------------------------------------------+

Элемент SearchId
----------------

В случае, если запрашиваются отели асинхронным способом (с указанием параметра ?async=1), то элемент будет содержать id инициализированного поиска. Данный ответ придет сразу, на стороне Хотелбука фоново будет происходить поиск отелей. Найденные отели можно запрашивать периодически запросом ``/xml/hotel_search_async?login=&search_id=&from_result_id=`` (например каждую секунду). Более подробно см. [[HotelSearchAsync|HotelSearchAsync.htm]]  Необязательный элемент. Может отсутствовать, если возникли ошибки.