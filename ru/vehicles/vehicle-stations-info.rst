Дополнительная информация о станциях получения / возврата авто
##############################################################

Описание XML схем получения дополнительной информации о станциях получения / возврата авто
==========================================================================================

XSD-схемы:

:download:`www/xsd/vehicle/VehicleStationsInfoRequest.xsd <../../themes/hotelbook/static/xsd/vehicle/VehicleStationsInfoRequest.xsd>`

:download:`www/xsd/vehicle/VehicleStationsInfoResponse.xsd <../../themes/hotelbook/static/xsd/vehicle/VehicleStationsInfoResponse.xsd>`

Запрос на получение дополнительной информации о станциях получения / возврата, VehicleStationsInfoRequest
---------------------------------------------------------------------------------------------------------

Запрос на получение дополнительной информации о станциях получения /
возврата формируется по пути: ``/xml/vehicle_stations_info``. И может
проводиться только когда известны id станций (``PickUP/DropOff->Station``).

В одном запросе можно указывать информацию только по одной паре станций
получения / возврата.

XML-схема запроса:

::

  <?xml version="1.0" encoding="UTF-8"?>
  <VehicleStationsInfoRequest>
    <ProviderId></ProviderId>
    <PickUp>
       <Date></Date>
       <Hour></Hour>
       <Station></Station>
    </PickUp>
    <DropOff>
       <Date></Date>
       <Hour></Hour>
       <Station></Station>
    </DropOff>
  </VehicleStationsInfoRequest>

Элемент VehicleStationsInfoRequest
----------------------------------

Запрос на получение дополнительной информации по найденным авто.
Сейчас в качестве дополнительной информации возвращаются общая
информация об авто, данные о страховых полисах, о включённых в оплату и
дополнительных опциях,об услових аренды, доступные станции получения /
возврата авто и информации о штрафах.

- Корневой элемент.
- Аттрибутов нет.

Дочерние элементы ``VehicleStationsInfoRequest``:

+----------------+------------------+-----------------------+-------------------------------------------+
| **Элемент**    | **Обязательный** | **Описание**          |                                           |
+================+==================+=======================+===========================================+
| ``ProviderId`` | да               | id поставщика         |                                           |
+----------------+------------------+-----------------------+-------------------------------------------+
| ``PickUp``     | да               | данные получения авто |                                           |
+----------------+------------------+-----------------------+-------------------------------------------+
| ``DropOff``    | да               | данные возврата авто  |                                           |
+----------------+------------------+-----------------------+-------------------------------------------+
|                | **Элемент**      | **Обязательный**      | **Описание**                              |
+----------------+------------------+-----------------------+-------------------------------------------+
|                | ``Date``         | да                    | дата (YY-mm-dd) получения / возврата авто |
+----------------+------------------+-----------------------+-------------------------------------------+
|                | ``Hour``         | да                    | время (HH:ii) получения / возврата авто   |
+----------------+------------------+-----------------------+-------------------------------------------+
|                | ``Station``      | да                    | id станции получения / возврата авто      |
+----------------+------------------+-----------------------+-------------------------------------------+

Элемент ProviderId
------------------

В элементе указывается id поставщика услуги - аренда авто.

- Обязательный элемент.
- Аттрибуты: нет.
- Дочерние элементы: нет.

Элемент PickUp
^^^^^^^^^^^^^^

В элементе указываются параметры получения авто (дата, время, id станции получения).

- Обязательный элемент.
- Аттрибуты: нет.

Дочерние элементы:

+-------------+------------------+---------------------------+
| **Элемент** | **Обязательный** | **Описание**              |
+=============+==================+===========================+
| ``Date``    | да               | дата получения авто       |
+-------------+------------------+---------------------------+
| ``Hour``    | да               | время получения авто      |
+-------------+------------------+---------------------------+
| ``Station`` | да               | id станции получения авто |
+-------------+------------------+---------------------------+

Элемент DropOff
^^^^^^^^^^^^^^^

В элементе указываются параметры возврата авто (дата, время, id станции возврата).

- Обязательный элемент.
- Аттрибуты: нет.
- Дочерние элементы: те же, что и в элементе PickUp

Ответ на получение дополнительной информации по станциям получения / возврата, VehicleStationsInfoResponse
----------------------------------------------------------------------------------------------------------

XML-схема ответа:

::

  <?xml version="1.0" encoding="utf-8"?>
  <VehicleStationsInfoResponse>
    <VehicleStationsInfoRequest>... source request ...</VehicleStationsInfoRequest>

    [<Errors>
      <Error code="..." description="..."> - ошибки
    </Errors>]
    <PickUp>    
      <Stationid=".." >
        <Name>..</Name>
              <Address>..</Address>
              <Phone>..</Phone>
              <Fax>..</Fax>
              <OpenningHours>..</OpenningHours>
              <HotelDelivery>..</HotelDelivery> -- hotel delivery
              <OffAirport>..</OffAirport> -- support airport 
            </Station>
    </PickUp>
    <DropOff>   
      <Station id=".." >
        <Name>..</Name>
              <Address>..</Address>
              <Phone>..</Phone>
              <Fax>..</Fax>
              <OpenningHours>..</OpenningHours>
              <HotelDelivery>..</HotelDelivery>
              <OffAirport>..</OffAirport>         
            </Station>
    </DropOff>
  </VehicleStationsInfoResponse>

Элемент VehicleStationsInfoResponse
-----------------------------------

Ответ, сформированный сервером на получение доп. информации о станциях получения / возврата авто **VehicleStationsInfoRequest**.

- Корневой элемент.
- Аттрибуті: нет.

Дочерние элементы ``VehicleStationsInfoResponse``:

+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
| **Элемент**                    | **Обязательный** | **Описание**                                                  |                                                  |                                     |
+================================+==================+===============================================================+==================================================+=====================================+
| ``VehicleStationsInfoRequest`` | нет              | Исходный запрос, см. выше – VehicleStationsInfoRequest        |                                                  |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
| ``Errors``                     | нет              | Список ошибок, если есть                                      |                                                  |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                | **Элемент**      | **Обязательный**                                              | **Описание**                                     |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                | ``Error``        | да                                                            | Описание ошибки (и код), ошибок может быть много |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
| ``PickUp``                     | да               | Полученная дополнительная информация о станции получения авто |                                                  |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
| ``DropOff``                    | да               | Полученная дополнительная информация о станции возврата авто  |                                                  |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                | **Элемент**      | **Обязательный**                                              | **Описание**                                     |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                | ``Station``      | да                                                            | Доп. информация для авто (может быть много авто) |                                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | **Элемент**                                                   | **Обязательный**                                 | **Описание**                        |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``Name``                                                      | да                                               | Наименование станции получения авто |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``Address``                                                   | да                                               | Адресс станции                      |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``Phone``                                                     | нет                                              | Телефон станции                     |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``Fax``                                                       | нет                                              | Факс станции                        |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``OpenningHours``                                             | нет                                              | Время работы                        |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``HotelDelivery``                                             | нет                                              | Поддержка достаки авто в отель      |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+
|                                |                  | ``OffAirport``                                                | нет                                              | Обслуживание аэропортов             |
+--------------------------------+------------------+---------------------------------------------------------------+--------------------------------------------------+-------------------------------------+

Элемент VehicleStationsInfoRequest
----------------------------------

| Исходный XML-запрос, который передал пользователь.
| Необязательный элемент. (Отстутствует если в синтаксисе исходного XML были ошибки)
| Описание схемы элемента см. выше (``VehicleStationsInfoRequest``)

Элемент Errors
--------------

Смотри страницу :doc:`Ошибки <../errors>`

Элемент VehicleStationsInfo
---------------------------

Информация о станциях.

- Необязательный элемент. Отсутствует, если есть ошибки.
- Аттрибуты: нет

Дочерние элементы:

+-------------+------------------+-------------------------------------+
| **Элемент** | **Обязательный** | **Описание**                        |
+=============+==================+=====================================+
| ``PickUp``  | да               | Информация о станции получения авто |
+-------------+------------------+-------------------------------------+
| ``DropOff`` | да               | Информация о станции возврата авто  |
+-------------+------------------+-------------------------------------+

Элемент PickUp
--------------

Информация о станции получения авто.

- Обязательный элемент.
- Аттрибуты: нет.

Дочерние элементы ``Station``:

+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
| **Элемент** | **Обязательный**  | **Описание**                                             |                                     |
+=============+===================+==========================================================+=====================================+
| ``Station`` | да                | Дополнительная информация по авто. Авто может быть много |                                     |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | **Элемент**       | **Обязательный**                                         | **Описание**                        |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``Name``          | да                                                       | Наименование станции получения авто |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``Address``       | да                                                       | Адресс станции                      |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``Phone``         | нет                                                      | Телефон станции                     |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``Fax``           | нет                                                      | Факс станции                        |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``OpenningHours`` | нет                                                      | Время работы                        |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``HotelDelivery`` | нет                                                      | Поддержка достаки авто в отель      |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+
|             | ``OffAirport``    | нет                                                      | Обслуживание аэропортов             |
+-------------+-------------------+----------------------------------------------------------+-------------------------------------+

Элемент DropOff
---------------

Информация о станции возврата авто.

- Обязательный элемент.
- Аттрибуты: нет.

Дочерние элементы ``Station``:

+-------------+-------------------+----------------------------------------------------------+------------------------------------+
| **Элемент** | **Обязательный**  | **Описание**                                             |                                    |
+=============+===================+==========================================================+====================================+
| ``Station`` | да                | Дополнительная информация по авто. Авто может быть много |                                    |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | **Элемент**       | **Обязательный**                                         | **Описание**                       |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``Name``          | да                                                       | Наименование станции возврата авто |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``Address``       | да                                                       | Адресс станции                     |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``Phone``         | нет                                                      | Телефон станции                    |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``Fax``           | нет                                                      | Факс станции                       |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``OpenningHours`` | нет                                                      | Время работы                       |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``HotelDelivery`` | нет                                                      | Поддержка достаки авто в отель     |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+
|             | ``OffAirport``    | нет                                                      | Обслуживание аэропортов            |
+-------------+-------------------+----------------------------------------------------------+------------------------------------+

Элемент Station
---------------

Информация о станции получения / возврата.

- Обязательный элемент.
- Аттрибуты: id станции получения / возврата авто.

Дочерние элементы:

+-------------------+------------------+------------------------------------+
| **Элемент**       | **Обязательный** | **Описание**                       |
+===================+==================+====================================+
| ``Name``          | да               | Наименование станции возврата авто |
+-------------------+------------------+------------------------------------+
| ``Address``       | да               | Адресс станции                     |
+-------------------+------------------+------------------------------------+
| ``Phone``         | нет              | Телефон станции                    |
+-------------------+------------------+------------------------------------+
| ``Fax``           | нет              | Факс станции                       |
+-------------------+------------------+------------------------------------+
| ``OpenningHours`` | нет              | Время работы                       |
+-------------------+------------------+------------------------------------+
| ``HotelDelivery`` | нет              | Поддержка достаки авто в отель     |
+-------------------+------------------+------------------------------------+
| ``OffAirport``    | нет              | Обслуживание аэропортов            |
+-------------------+------------------+------------------------------------+