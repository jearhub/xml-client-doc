Список городов
##############

Описание XML схемы получения списка городов
===========================================

Запрос на получение списка городов формируется через URL (методом GET)

XSD-схема ответа: :download:`www/xsd/dict/geo/CitiesResponse.xsd <../themes/hotelbook/static/xsd/dict/geo/CitiesResponse.xsd>`

Запрос списка городов
---------------------

В запросе можно передать параметр ``?country_id=id_страны`` или
``?resort_id=id_курорта``, чтобы получить список городов только одной
страны/курорта. Сейчас запрос передаётся через URL вместе с учётными
данными (``login``, ``password``, ``checksum``,..).

Запрос формируется по пути: ``/xml/cities``

Ответ на запрос списка городов, CitiesResponse
----------------------------------------------

::

    <?xml version="1.0" encoding="utf-8"?>
    <Response>
        <Cities>
            <City id="..." country="..." resort="..." has_vehicle_rent="..." name_ru="..." hotel_count="...">...</City> - список всех найденных городов
        </Cities>
    </Response>

Элемент Response
----------------

Корневой элемент.

**Атрибуты:** нет.

**Дочерний элемент:**

+----------+----------------+------------------+
| Имя      | Обязательный   | Описание         |
+==========+================+==================+
| Cities   | Да             | Список городов   |
+----------+----------------+------------------+

Элемент Cities
--------------

Содержит список всех найденных городов.

**Атрибуты:** нет.

**Дочерний элемент:**

+--------+----------------+-------------------+
| Имя    | Обязательный   | Описание          |
+========+================+===================+
| City   | Нет            | Название города   |
+--------+----------------+-------------------+

Элемент City
------------

Содержит название города латинскими буквами (на английском, французком,
немецком, итальянском и т.д.).

Необязательный элемент (отсутствует, если ни одного города не найдено).

**Атрибуты:**

+------------------+--------+--------------+------------------------------------------------+
| Имя              | Тип    | Обязательный | Описание                                       |
+==================+========+==============+================================================+
| id               | Число  | Да           | id найденного города                           |
+------------------+--------+--------------+------------------------------------------------+
| country          | Число  | Да           | id страны, где находится город                 |
+------------------+--------+--------------+------------------------------------------------+
| resort           | Число  | Да           | id курорта                                     |
+------------------+--------+--------------+------------------------------------------------+
| has_vehicle_rent | Число  | Нет          | Есть ли аренда авто в этом городе (1)          |
+------------------+--------+--------------+------------------------------------------------+
| hotel_count      | Число  | Нет          | Количество отелей в городе                     |
+------------------+--------+--------------+------------------------------------------------+
| name_ru          | Строка | Да           | Название города на русском (может быть пустым) |
+------------------+--------+--------------+------------------------------------------------+

**Дочерние элементы:** нет.
